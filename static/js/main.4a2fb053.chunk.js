(this.webpackJsonpflags_cnn=this.webpackJsonpflags_cnn||[]).push([[0],{20:function(a,e,n){a.exports=n(40)},25:function(a,e,n){},27:function(a,e,n){a.exports=n.p+"static/media/logo.5d5d9eef.svg"},28:function(a,e,n){},34:function(a,e){},35:function(a,e){},36:function(a,e){},37:function(a,e){},38:function(a,e){},39:function(a,e){},40:function(a,e,n){"use strict";n.r(e);var t=n(1),i=n.n(t),s=n(13),o=n.n(s),r=(n(25),n(10)),l=n.n(r),u=n(14),c=n(15),d=n(16),h=n(19),m=n(18),g=(n(27),n(28),n(43)),b=n(44),f=n(45),v=n(41),p={ad:"Andorra",ae:"United Arab Emirates",af:"Afghanistan",ag:"Antigua and Barbuda",ai:"Anguilla",al:"Albania",am:"Armenia",ao:"Angola",aq:"Antarctica",ar:"Argentina",as:"American Samoa",at:"Austria",au:"Australia",aw:"Aruba",ax:"\xc5land Islands",az:"Azerbaijan",ba:"Bosnia and Herzegovina",bb:"Barbados",bd:"Bangladesh",be:"Belgium",bf:"Burkina Faso",bg:"Bulgaria",bh:"Bahrain",bi:"Burundi",bj:"Benin",bl:"Saint Barth\xe9lemy",bm:"Bermuda",bn:"Brunei",bo:"Bolivia",bq:"Caribbean Netherlands",br:"Brazil",bs:"Bahamas",bt:"Bhutan",bv:"Bouvet Island",bw:"Botswana",by:"Belarus",bz:"Belize",ca:"Canada",cc:"Cocos (Keeling) Islands",cd:"DR Congo",cf:"Central African Republic",cg:"Republic of the Congo",ch:"Switzerland",ci:"C\xf4te d'Ivoire (Ivory Coast)",ck:"Cook Islands",cl:"Chile",cm:"Cameroon",cn:"China",co:"Colombia",cr:"Costa Rica",cu:"Cuba",cv:"Cape Verde",cw:"Cura\xe7ao",cx:"Christmas Island",cy:"Cyprus",cz:"Czechia",de:"Germany",dj:"Djibouti",dk:"Denmark",dm:"Dominica",do:"Dominican Republic",dz:"Algeria",ec:"Ecuador",ee:"Estonia",eg:"Egypt",eh:"Western Sahara",er:"Eritrea",es:"Spain",et:"Ethiopia",eu:"European Union",fi:"Finland",fj:"Fiji",fk:"Falkland Islands",fm:"Micronesia",fo:"Faroe Islands",fr:"France",ga:"Gabon",gb:"United Kingdom","gb-eng":"England","gb-nir":"Northern Ireland","gb-sct":"Scotland","gb-wls":"Wales",gd:"Grenada",ge:"Georgia",gf:"French Guiana",gg:"Guernsey",gh:"Ghana",gi:"Gibraltar",gl:"Greenland",gm:"Gambia",gn:"Guinea",gp:"Guadeloupe",gq:"Equatorial Guinea",gr:"Greece",gs:"South Georgia",gt:"Guatemala",gu:"Guam",gw:"Guinea-Bissau",gy:"Guyana",hk:"Hong Kong",hm:"Heard Island and McDonald Islands",hn:"Honduras",hr:"Croatia",ht:"Haiti",hu:"Hungary",id:"Indonesia",ie:"Ireland",il:"Israel",im:"Isle of Man",in:"India",io:"British Indian Ocean Territory",iq:"Iraq",ir:"Iran",is:"Iceland",it:"Italy",je:"Jersey",jm:"Jamaica",jo:"Jordan",jp:"Japan",ke:"Kenya",kg:"Kyrgyzstan",kh:"Cambodia",ki:"Kiribati",km:"Comoros",kn:"Saint Kitts and Nevis",kp:"North Korea",kr:"South Korea",kw:"Kuwait",ky:"Cayman Islands",kz:"Kazakhstan",la:"Laos",lb:"Lebanon",lc:"Saint Lucia",li:"Liechtenstein",lk:"Sri Lanka",lr:"Liberia",ls:"Lesotho",lt:"Lithuania",lu:"Luxembourg",lv:"Latvia",ly:"Libya",ma:"Morocco",mc:"Monaco",md:"Moldova",me:"Montenegro",mf:"Saint Martin",mg:"Madagascar",mh:"Marshall Islands",mk:"North Macedonia",ml:"Mali",mm:"Myanmar",mn:"Mongolia",mo:"Macau",mp:"Northern Mariana Islands",mq:"Martinique",mr:"Mauritania",ms:"Montserrat",mt:"Malta",mu:"Mauritius",mv:"Maldives",mw:"Malawi",mx:"Mexico",my:"Malaysia",mz:"Mozambique",na:"Namibia",nc:"New Caledonia",ne:"Niger",nf:"Norfolk Island",ng:"Nigeria",ni:"Nicaragua",nl:"Netherlands",no:"Norway",np:"Nepal",nr:"Nauru",nu:"Niue",nz:"New Zealand",om:"Oman",pa:"Panama",pe:"Peru",pf:"French Polynesia",pg:"Papua New Guinea",ph:"Philippines",pk:"Pakistan",pl:"Poland",pm:"Saint Pierre and Miquelon",pn:"Pitcairn Islands",pr:"Puerto Rico",ps:"Palestine",pt:"Portugal",pw:"Palau",py:"Paraguay",qa:"Qatar",re:"R\xe9union",ro:"Romania",rs:"Serbia",ru:"Russia",rw:"Rwanda",sa:"Saudi Arabia",sb:"Solomon Islands",sc:"Seychelles",sd:"Sudan",se:"Sweden",sg:"Singapore",sh:"Saint Helena, Ascension and Tristan da Cunha",si:"Slovenia",sj:"Svalbard and Jan Mayen",sk:"Slovakia",sl:"Sierra Leone",sm:"San Marino",sn:"Senegal",so:"Somalia",sr:"Suriname",ss:"South Sudan",st:"S\xe3o Tom\xe9 and Pr\xedncipe",sv:"El Salvador",sx:"Sint Maarten",sy:"Syria",sz:"Eswatini (Swaziland)",tc:"Turks and Caicos Islands",td:"Chad",tf:"French Southern and Antarctic Lands",tg:"Togo",th:"Thailand",tj:"Tajikistan",tk:"Tokelau",tl:"Timor-Leste",tm:"Turkmenistan",tn:"Tunisia",to:"Tonga",tr:"Turkey",tt:"Trinidad and Tobago",tv:"Tuvalu",tw:"Taiwan",tz:"Tanzania",ua:"Ukraine",ug:"Uganda",um:"United States Minor Outlying Islands",un:"United Nations",us:"United States","us-ak":"Alaska","us-al":"Alabama","us-ar":"Arkansas","us-az":"Arizona","us-ca":"California","us-co":"Colorado","us-ct":"Connecticut","us-de":"Delaware","us-fl":"Florida","us-ga":"Georgia","us-hi":"Hawaii","us-ia":"Iowa","us-id":"Idaho","us-il":"Illinois","us-in":"Indiana","us-ks":"Kansas","us-ky":"Kentucky","us-la":"Louisiana","us-ma":"Massachusetts","us-md":"Maryland","us-me":"Maine","us-mi":"Michigan","us-mn":"Minnesota","us-mo":"Missouri","us-ms":"Mississippi","us-mt":"Montana","us-nc":"North Carolina","us-nd":"North Dakota","us-ne":"Nebraska","us-nh":"New Hampshire","us-nj":"New Jersey","us-nm":"New Mexico","us-nv":"Nevada","us-ny":"New York","us-oh":"Ohio","us-ok":"Oklahoma","us-or":"Oregon","us-pa":"Pennsylvania","us-ri":"Rhode Island","us-sc":"South Carolina","us-sd":"South Dakota","us-tn":"Tennessee","us-tx":"Texas","us-ut":"Utah","us-va":"Virginia","us-vt":"Vermont","us-wa":"Washington","us-wi":"Wisconsin","us-wv":"West Virginia","us-wy":"Wyoming",uy:"Uruguay",uz:"Uzbekistan",va:"Vatican City (Holy See)",vc:"Saint Vincent and the Grenadines",ve:"Venezuela",vg:"British Virgin Islands",vi:"United States Virgin Islands",vn:"Vietnam",vu:"Vanuatu",wf:"Wallis and Futuna",ws:"Samoa",xk:"Kosovo",ye:"Yemen",yt:"Mayotte",za:"South Africa",zm:"Zambia",zw:"Zimbabwe"},y=Object.keys(p).map((function(a){return p[a]})),k=function(a){Object(h.a)(n,a);var e=Object(m.a)(n);function n(){var a;for(var t in Object(c.a)(this,n),(a=e.call(this)).pickColor=function(e){var n=a.ctx2.getImageData(e.offsetX,e.offsetY,1,1).data;a.x="rgba(".concat(n[0],",").concat(n[1],",").concat(n[2],",255)")},a.handleClick=function(e){if(2==e.button&&(a.old=a.x,a.x="rgba(255,255,255,255)"),e.shiftKey&&2!=e.button){var n=a.ctx.getImageData(e.offsetX,e.offsetY,1,1).data;a.x="rgba(".concat(n[0],",").concat(n[1],",").concat(n[2],",255)")}else a.bool=!0},a.handleRelease=function(e){2==e.button&&(a.x=a.old),a.bool=!1;if(null!=a.model){var n=new Image(a.canvas.toDataURL("image/png"));a.ctx.drawImage(n,0,0);var t=a.ctx.getImageData(0,0,a.w,a.h);n=(n=v.browser.fromPixels(t).resizeBilinear([32,24])).reshape([1,24,32,3]);var i=a.model.predict(n).dataSync();console.log(i);var s=i.reduce((function(a,e,n,t){return e>t[a]?n:a}),0);console.log(y[s]),a.setState({guess:y[s]})}},a.draw=function(e){a.bool&&(a.ctx.fillStyle=a.x,a.ctx.fillRect(Math.floor(e.offsetX/a.boxSize)*a.boxSize,Math.floor(e.offsetY/a.boxSize)*a.boxSize,a.boxSize,a.boxSize))},a.onChange=function(e){a.setState({select:e.target.value})},a.getKeyFromValue=function(a,e){return Object.keys(a).find((function(n){return a[n]===e}))},a.state={guess:"Start drawing a flag and I'll try to guess it!",select:""},a.countries=[],p)a.countries.push(i.a.createElement("option",{key:t},p[t]));return a}return Object(d.a)(n,[{key:"componentWillUnmount",value:function(){}},{key:"componentDidMount",value:function(){this.loadModel(),this.old="",this.bool=!1,this.canvas=!1,this.ctx=!1,this.flag=!1,this.prevX=0,this.currX=0,this.prevY=0,this.currY=0,this.dot_flag=!1,this.boxSize=20,this.x="white",this.y=2,this.model=null,this.weights=null,this.canvas=document.getElementById("can"),this.ctx=this.canvas.getContext("2d"),this.canvas2=document.getElementById("can2"),this.ctx2=this.canvas2.getContext("2d"),this.w=this.canvas.width,this.h=this.canvas.height,this.ctx.fillStyle="rgba(255,255,255,255)",this.ctx.fillRect(0,0,this.w,this.h),this.ctx2.fillStyle="rgba(255,255,255,255)",this.ctx2.fillRect(0,0,this.w,this.h),this.canvas.addEventListener("mousedown",this.handleClick),this.canvas.addEventListener("mouseup",this.handleRelease),this.canvas.addEventListener("mousemove",this.draw),this.canvas.addEventListener("mouseout",this.handleRelease),this.canvas2.addEventListener("mouseup",this.pickColor),this.canvas2.addEventListener("mousedown",this.pickColor);for(var a=this.canvas2.width/2,e=this.canvas2.height/2,n=0;n<=360;n+=1){var t=(n-2)*Math.PI/180,i=n*Math.PI/180;this.ctx2.beginPath(),this.ctx2.moveTo(a,e),this.ctx2.arc(a,e,32,t,i,!1),this.ctx2.closePath(),this.ctx2.fillStyle="hsl("+n+", 100%, 50%)",this.ctx2.fill()}}},{key:"loadModel",value:function(){var a=Object(u.a)(l.a.mark((function a(){return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return"https://TivsLThree.github.io/FlagCNN//resources/model/model.json",a.next=3,v.loadLayersModel("https://TivsLThree.github.io/FlagCNN//resources/model/model.json");case 3:this.model=a.sent;case 4:case"end":return a.stop()}}),a,this)})));return function(){return a.apply(this,arguments)}}()},{key:"render",value:function(){var a;return a=void 0!=this.getKeyFromValue(p,this.state.select)?i.a.createElement("img",{src:"https://flagcdn.com/48x36/"+this.getKeyFromValue(p,this.state.select)+".webp"}):i.a.createElement("div",null,"No flag chosen"),i.a.createElement(g.a,{className:"App",onLoad:this.load},i.a.createElement(b.a,null,i.a.createElement(f.a,{sm:10},i.a.createElement("canvas",{id:"can",width:"920",height:"520",onContextMenu:function(a){return a.preventDefault()},style:{border:"2px solid"}}),this.state.guess),i.a.createElement(f.a,{sm:2},i.a.createElement("canvas",{id:"can2",width:"64",height:"64",onContextMenu:function(a){return a.preventDefault()},style:{border:"2px solid"}}),i.a.createElement(b.a,null,"Choose Color, Right click to erase.",i.a.createElement("p",null,"Shift-click on a color on the canvas to color pick it, or just click on the color wheel!")),i.a.createElement(f.a,{sm:80},i.a.createElement("select",{className:"form-control form-control-lg",id:"select",onChange:this.onChange,value:this.state.value},this.countries),a),i.a.createElement(f.a,{sm:1}))))}}]),n}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(a){a.unregister()})).catch((function(a){console.error(a.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.4a2fb053.chunk.js.map